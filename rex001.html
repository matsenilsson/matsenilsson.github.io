<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="Mats E. Nilsson" />


<title></title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/spacelab.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 52px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 57px;
  margin-top: -57px;
}

.section h2 {
  padding-top: 57px;
  margin-top: -57px;
}
.section h3 {
  padding-top: 57px;
  margin-top: -57px;
}
.section h4 {
  padding-top: 57px;
  margin-top: -57px;
}
.section h5 {
  padding-top: 57px;
  margin-top: -57px;
}
.section h6 {
  padding-top: 57px;
  margin-top: -57px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->






<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">learn R by EXample</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="content.html">Content</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Seminar notes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="rex001.html">001</a>
    </li>
    <li>
      <a href="rex002.html">002</a>
    </li>
    <li>
      <a href="rex003.html">003</a>
    </li>
    <li>
      <a href="rex004.html">004</a>
    </li>
    <li>
      <a href="rex005.html">005</a>
    </li>
    <li>
      <a href="rex006.html">006</a>
    </li>
    <li>
      <a href="rex101.html">101</a>
    </li>
    <li>
      <a href="rex102.html">102</a>
    </li>
    <li>
      <a href="rex103.html">103</a>
    </li>
    <li>
      <a href="rex104.htm">104</a>
    </li>
    <li>
      <a href="rex105.html">105</a>
    </li>
    <li>
      <a href="rex106.html">106</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">




</div>


<p> <br />
</p>
<div id="notes-rex001" class="section level1">
<h1>Notes REX001</h1>
<p>This seminar takes a first look at R and R-Studio. We’ll start with the Console, where you may interact directly with R. We will then move to the text editor and start working on a simulation of a randomized experiment that we will continue to work on in the following seminars.</p>
<p> </p>
<div id="getting-started-with-r-and-r-studio" class="section level2">
<h2>Getting started with R and R-studio</h2>
<p>Make sure you have R (the statistical software) and R-studio (an interface to R) installed on you laptop before this seminar. You may run R without R-studio (but not vice versa), but I strongly recommend that you use R-Studio; it makes working with R much easier.</p>
<div id="the-console" class="section level3">
<h3>The Console</h3>
<p>You may interact directly with R through the Console (typically the bottom left panel in R-studio). Here are some examples, just type the commands and hit Enter.</p>
<div id="use-as-calculator" class="section level4">
<h4>Use as calculator</h4>
<p><span class="math inline">\(27 - 13\)</span></p>
<pre class="r"><code>27 - 13</code></pre>
<pre><code>## [1] 14</code></pre>
<p><span class="math inline">\((5+3)8^{1/3}\)</span></p>
<pre class="r"><code>(5 + 3) * 8^(1/3)</code></pre>
<pre><code>## [1] 16</code></pre>
<p><span class="math inline">\(7!\)</span></p>
<pre class="r"><code>factorial(7)</code></pre>
<pre><code>## [1] 5040</code></pre>
<p><span class="math inline">\({7 \choose 2}\)</span></p>
<pre class="r"><code>choose(7, 2)</code></pre>
<pre><code>## [1] 21</code></pre>
<p> </p>
</div>
<div id="get-help-this-opens-a-page-in-the-help-panel-of-r-studio" class="section level4">
<h4>Get help (this opens a page in the Help panel of R-studio)</h4>
<pre class="r"><code>help(choose)</code></pre>
<p> </p>
</div>
<div id="define-data-structures" class="section level4">
<h4>Define data structures</h4>
<p>Store a set of numbers in a vector called x</p>
<pre class="r"><code>x &lt;- c(1, 7, 7, 3, 23, -4, 2^3)</code></pre>
<p>Note that x is not displayed in the Console unless called specifically</p>
<pre class="r"><code>x  # This is shorthand for print(x)</code></pre>
<pre><code>## [1]  1  7  7  3 23 -4  8</code></pre>
<p>Randomly select (with replacement) 10 integers between 1 and 20, and store them in a vector called y</p>
<pre class="r"><code>y &lt;- sample(seq(1, 20), size = 10, replace = TRUE)
y</code></pre>
<pre><code>##  [1]  7  9  6  3  6  6  7  1 16  9</code></pre>
<p>Repeat ‘red’, ‘green’ four times and store them in a vector called condition</p>
<pre class="r"><code>condition &lt;- rep(c(&#39;red&#39;, &#39;green&#39;), 4)
condition</code></pre>
<pre><code>## [1] &quot;red&quot;   &quot;green&quot; &quot;red&quot;   &quot;green&quot; &quot;red&quot;   &quot;green&quot; &quot;red&quot;   &quot;green&quot;</code></pre>
<p> </p>
</div>
<div id="check-objects" class="section level4">
<h4>Check objects</h4>
<p>The Console is useful for checking properties of R objects, for example, the number of elements in a vector, or its first (or last) values.</p>
<pre class="r"><code>a &lt;- rep(month.abb, 5)  # help(month.abb) answers your question
length(a)  # Number of elements in vector a</code></pre>
<pre><code>## [1] 60</code></pre>
<pre class="r"><code>head(a, 7)  # The first 7 values of vector a</code></pre>
<pre><code>## [1] &quot;Jan&quot; &quot;Feb&quot; &quot;Mar&quot; &quot;Apr&quot; &quot;May&quot; &quot;Jun&quot; &quot;Jul&quot;</code></pre>
<pre class="r"><code>tail(a, 5)  # The last 5 values of vector a</code></pre>
<pre><code>## [1] &quot;Aug&quot; &quot;Sep&quot; &quot;Oct&quot; &quot;Nov&quot; &quot;Dec&quot;</code></pre>
<p>A common mistake is to try to do things on the wrong type of data, such as trying to do math on a character (or string) vector. Experienced R-users often use <code>str()</code> to remind them about what type of data they are working with (some of this information is also displayed in the Environment panel of R-studio).</p>
<pre class="r"><code>a + 4</code></pre>
<pre><code>## Error in a + 4: non-numeric argument to binary operator</code></pre>
<pre class="r"><code>str(a)</code></pre>
<pre><code>##  chr [1:60] &quot;Jan&quot; &quot;Feb&quot; &quot;Mar&quot; &quot;Apr&quot; &quot;May&quot; &quot;Jun&quot; &quot;Jul&quot; &quot;Aug&quot; &quot;Sep&quot; ...</code></pre>
<p> </p>
</div>
<div id="asking-the-console-to-produce-plots-works-fine" class="section level4">
<h4>Asking the Console to produce plots works fine:</h4>
<pre class="r"><code>random_data &lt;- rnorm(10^4)
hist(random_data)</code></pre>
<p><img src="rex001_files/figure-html/unnamed-chunk-12-1.png" width="480" /></p>
<p> </p>
</div>
<div id="exercises" class="section level4">
<h4>Exercises</h4>
<ol style="list-style-type: decimal">
<li>Calculate <span class="math inline">\(\left|\sqrt{10}/(\pi-4)\right|\)</span>. Remember that Google is your best friend. Use it to find out how R implements the square-root function, the absolute function, and the constant <span class="math inline">\(\pi\)</span>. The expression equals:</li>
</ol>
<pre><code>## [1] 3.683889</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Use R’s help function to find out what the <code>combn()</code> function does. If the help page doesn’t make sense, use Google to find out (R’s help-pages take some time to get used to).</li>
</ol>
<pre class="r"><code>z &lt;- combn(7, 2)</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>What’s the difference between the <code>sort()</code> and the <code>order()</code> function? Try this to find out.</li>
</ol>
<pre class="r"><code>my_data &lt;- sample(10)
a &lt;- sort(my_data)
b &lt;- order(my_data)</code></pre>
<p> </p>
</div>
</div>
<div id="script-files" class="section level3">
<h3>Script files</h3>
<p>You will do most of your typing in the script window (typically located above the Console in R-Studio). Here you write blocks of code in a script file (select File/New File/R Script or press Ctrl+Shft+N in R-Studio to open a new script). The code in the script is not executed unless you ask for it, for example by pressing Ctrl-R. If you just want to run a part of the script, selected this part and then hit Ctrl-R. If you just want to run a single line, just put the cursor on the line and hit Ctrl-R.</p>
<p> </p>
</div>
<div id="script1-randomized-experiment" class="section level3">
<h3>Script1: Randomized experiment</h3>
<p>Click <a href="script1_1.R" target="_blank">here</a> for a script file (Script1), to be completed it in the following seminars (at REX002-004, we will do another simulation exercise at REX005-006).</p>
<p>The simulated scenario is a simple randomized experiment conducted at a large school. At the beginning of the semester, all sixth-graders are randomly assigned to receive extra music lessons (tratement) or no extra lessons (control). The outcome is performance on a math test taken at the end of the semester.<br />
(loosely inspired by Schellenberg, E.G. (2004). Music lessons enhance IQ. <em>Psychological Science</em>, 15, 511-514.)</p>
<p>Key variables:</p>
<p>1a. Independent variable (R): At the start of grade 6, all children at the school are randomly assigned to receive either extra music lessons (treatment) or no extra music lessons (control).<br />
1b. Independent variable (Music): Music lessons or not. In case of non-compliance, received treatment will differ from assigned treatment (R).<br />
2. Background (or pre-treatment) variable (SES): Socioeconomic status, defined based on residential area. The pupils in this school are from one of two nearby residential areas: one high-income and one low-income area. 3. Outcome variable (Mathscore): Score on a math test taken at the end of the semester.</p>
<p>This is a Directed Acyclical Graph (DAG) of the simulated scenario.</p>
<pre><code>## Warning: package &#39;dagitty&#39; was built under R version 3.4.4</code></pre>
<p><img src="rex001_files/figure-html/unnamed-chunk-16-1.png" width="480" /></p>
<p>Today, we will just simulate some data:</p>
<ol style="list-style-type: decimal">
<li>Decide sample size and define a variable with id-numbers for each simulated participant</li>
<li>Randomly assign children to treatment, using the <code>sample()</code> function.</li>
<li>Sanity check using the <code>table()</code> function.</li>
<li>Simulate outcome, to begin with as independent of treatment using the <code>rnorm()</code> function.</li>
<li>Do some preliminary analyses to get a first feeling of how R is used for analyzing data.</li>
</ol>
<p><br> <br></p>
<p>(If you want to jump ahead, here is the final script from last year, finalized at REX004 Click <a href="script1a_last_year_fin.R" target="_blank">here for</a> the final script).</p>
<div id="exercises-1" class="section level4">
<h4>Exercises</h4>
<p>In the following seminar (REX002), we will simulate socioeconomic status as related to non-compliance. Please try it beforehand.</p>
</div>
</div>
</div>
</div>



<span style = grey>
<hr>
<p>&copy Mats E. Nilsson<br>Gösta Ekman Laboratory, 
Department of Psychology, Stockholm University</p>

</span>



</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
